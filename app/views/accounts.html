<menubar></menubar>

<center class="loading-block" ng-hide="loaded">
    <span class="mini-loading"></span><br>
    Cargando...
</center>

<div class="container" ng-if="loaded">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <span class="panel-title">Cuentas sin pagar</span>
            <button type="button" class="btn btn-success btn-xs pull-right">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                Agregar
            </button>
        </div>
        <div class="panel-body">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Nombre</th>
                            <th>Descripción</th>
                            <th>Facturación</th>
                            <th class="text-right">Pagar</th>
                            <th class="text-right">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="acc in accounts | filter:{pagado:0}">
                            <td>{{acc.id}}</td>
                            <td>{{acc.nombre}}</td>
                            <td>{{acc.descripcion}}<small class="text-muted" ng-show="acc.info"><br>{{acc.info}}</small></td>
                            <td>{{acc.fecha_facturacion}}</td>
                            <td class="text-right">{{acc.monto | formatMoney}}</td>
                            <td class="text-right">
                                <a href="javascript:;" class="btn btn-xs btn-primary">
                                    <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                                </a>
                                <a href="javascript:;" class="btn btn-xs btn-primary">
                                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                </a>
                                <a href="javascript:;" class="btn btn-xs btn-danger">
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3"></td>
                            <td class="text-right"><b>Total</b></td>
                            <td class="text-right">{{getSumUnpaid() | formatMoney}}</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <span class="panel-title">Todas las cuentas</span>
            <div class="pull-right text-right" id="acc-list-heading">
                <input class="form-control input-sm" type="text" placeholder="Búsqueda..." ng-model="accListText">
                <button type="button" class="btn btn-success btn-xs">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    Agregar
                </button>
            </div>
        </div>
        <div class="panel-body">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Nombre</th>
                            <th>Descripción</th>
                            <th>Facturación</th>
                            <th class="text-right">Pagar</th>
                            <th class="text-right">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="acc in accounts | filter:accListText as results">
                            <td>{{acc.id}}</td>
                            <td>{{acc.nombre}}</td>
                            <td>{{acc.descripcion}}<small class="text-muted" ng-show="acc.info"><br>{{acc.info}}</small></td>
                            <td>{{acc.fecha_facturacion}}</td>
                            <td class="text-right">{{acc.monto | formatMoney}}</td>
                            <td class="text-right">
                                <a href="javascript:;" class="btn btn-xs btn-primary">
                                    <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                                </a>
                                <a href="javascript:;" class="btn btn-xs btn-primary">
                                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                </a>
                                <a href="javascript:;" class="btn btn-xs btn-danger">
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                </a>
                            </td>
                        </tr>
                        <tr ng-hide="results.length == 0">
                            <td colspan="3"></td>
                            <td class="text-right"><b>Total</b></td>
                            <td class="text-right">{{getSumUnpaid() | formatMoney}}</td>
                            <td></td>
                        </tr>
                        <tr ng-if="results.length == 0">
                            <td colspan="6" class="text-center"><i>No hubo resultados...</i></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
